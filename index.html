<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Weather Voice Dialogue</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    font-family: Arial, sans-serif;
    background: #f0f8ff;
    text-align: center;
    padding: 20px;
}
.page { display: none; }
.active { display: block; }
button {
    font-size: 18px;
    padding: 12px 22px;
    margin: 10px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}
.start { background: #4CAF50; color: white; }
.listen { background: #2196F3; color: white; }
.correct { color: green; font-size:18px; }
.wrong { color: red; font-size:18px; }
.notice {
    background: #fff3cd;
    border: 1px solid #ffeeba;
    padding: 15px;
    border-radius: 10px;
    margin-top: 20px;
    font-size: 14px;
}
</style>
</head>
<body>

<!-- ØµÙØ­Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
<div id="welcome" class="page active">
    <h2>ğŸŒŸ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ</h2>
    <p><b>Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ©</b></p>
    <p>Ø¥Ø¯Ø§Ø±Ø©: Ù…Ø­Ù…Ø¯ Ø·Ù‡ Ø¹Ø·Ø§ Ø§Ù„Ù…Ù†Ø§Ù†</p>
    <p>Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªÙØ§Ø¹Ù„ÙŠ Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØªØµØ­ÙŠØ­ Ø§Ù„Ù†Ø·Ù‚</p>

    <hr>

    <div class="notice">
        <p>ğŸ“Œ <b>ØªØ¹Ù„ÙŠÙ…Ø§Øª:</b></p>
        <p>1ï¸âƒ£ Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø£Ø³Ø¦Ù„Ø© Ø¬ÙŠØ¯Ù‹Ø§</p>
        <p>2ï¸âƒ£ Ø§Ù†Ø·Ù‚ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¨ØµÙˆØª ÙˆØ§Ø¶Ø­</p>
        <p>3ï¸âƒ£ Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø© Ø³ØªØ±Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙˆØ§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¥Ø°Ø§ Ø£Ø®Ø·Ø£Øª</p>
        <p>ğŸ“¸ Ø£Ø±Ø³Ù„ Screenshot Ù„Ù„Ù‚Ø±ÙˆØ¨</p>
        <p>ğŸ¤ Ø£Ø±Ø³Ù„ ØªØ³Ø¬ÙŠÙ„ ØµÙˆØªÙƒ Ù„Ù„Ù‚Ø±ÙˆØ¨</p>
    </div>

    <button class="start" onclick="startLesson()">â–¶ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ…Ø±ÙŠÙ†</button>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„ØªÙ…Ø±ÙŠÙ† -->
<div id="lesson" class="page">
    <h2>ğŸŒ¦ Weather Voice Dialogue</h2>
    <div id="dialogue">
        <p><b>Teacher:</b> Hello! How are you today?</p>
    </div>
    <button class="listen" onclick="speakQuestion()">ğŸ”Š Listen Question</button>
    <button class="listen" onclick="startSpeaking()">ğŸ¤ Speak Your Answer</button>
    <p id="feedback"></p>
</div>

<script>
// Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
function startLesson() {
    document.getElementById("welcome").classList.remove("active");
    document.getElementById("lesson").classList.add("active");
}

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙˆØ§Ø±: Ø³Ø¤Ø§Ù„ØŒ Ø£Ø¬ÙˆØ¨Ø© ØµØ­ÙŠØ­Ø©ØŒ ÙˆØ¬Ù…Ù„Ø© ØªØµØ­ÙŠØ­ÙŠØ©
const dialogueData = [
    {teacher:"What is the weather like today?", answers:["it is hot","it is sunny","it is cold","it is rainy"], correct:"It is sunny."},
    {teacher:"Do you like this weather?", answers:["yes i like it","no i don't like it"], correct:"Yes, I like it."},
    {teacher:"Why do you like it?", answers:["because i can play outside","because it is warm"], correct:"Because I can play outside."},
    {teacher:"What do you usually do in sunny weather?", answers:["i play football","i read a book"], correct:"I play football."},
    {teacher:"How about rainy weather?", answers:["sometimes","not really"], correct:"Sometimes, I like it."},
    {teacher:"What do you do when it is rainy?", answers:["i stay at home","i watch tv"], correct:"I stay at home and watch TV."},
    {teacher:"And in cold weather?", answers:["i wear a jacket","i drink hot tea"], correct:"I wear a jacket and drink hot tea."},
    {teacher:"Can you tell me about yesterday's weather?", answers:["yesterday it was hot","yesterday it was sunny"], correct:"Yesterday it was sunny."},
    {teacher:"What will the weather be like tomorrow?", answers:["it will be rainy","it will be cold"], correct:"It will be rainy."}
];

let currentStep = 0;

// Text-to-Speech
function speakQuestion() {
    const utter = new SpeechSynthesisUtterance(dialogueData[currentStep].teacher);
    utter.lang = "en-US";
    speechSynthesis.speak(utter);
}

// Speech Recognition
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
const recognition = new SpeechRecognition();
recognition.lang = "en-US";

function startSpeaking() {
    recognition.start();
}

recognition.onresult = function(event) {
    let spoken = event.results[0][0].transcript.toLowerCase();
    const feedback = document.getElementById("feedback");
    const dialogueDiv = document.getElementById("dialogue");
    const current = dialogueData[currentStep];

    dialogueDiv.innerHTML += "<p><b>Student:</b> " + spoken + "</p>";

    if(current.answers.includes(spoken)){
        feedback.innerHTML = "âœ… Correct! ğŸŒŸ Well done!";
        feedback.className = "correct";
    } else {
        feedback.innerHTML = "âŒ Incorrect. Correct answer: " + current.correct;
        feedback.className = "wrong";
        dialogueDiv.innerHTML += "<p><b>Teacher:</b> " + current.correct + "</p>";
    }

    currentStep++;
    if(currentStep < dialogueData.length){
        dialogueDiv.innerHTML += "<p><b>Teacher:</b> " + dialogueData[currentStep].teacher + "</p>";
    } else {
        dialogueDiv.innerHTML += "<p><b>ğŸ‰ End of dialogue! Please send Screenshot & Voice Note to the group.</b></p>";
    }
};
</script>

</body>
</html>
