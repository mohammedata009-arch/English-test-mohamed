<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ© - Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø·Ù‚</title>

<style>
:root{
--primary:#1a5f7a;
--secondary:#e67e22;
--success:#27ae60;
--error:#c0392b;
--bg:#f4f7f6;
}

body{
font-family:Segoe UI,Tahoma;
background:var(--bg);
display:flex;
justify-content:center;
padding:20px;
}

.container{
background:white;
padding:30px;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,.1);
max-width:600px;
width:100%;
text-align:center;
border-top:10px solid var(--primary);
}

.word-card{
border:2px dashed #ddd;
border-radius:15px;
padding:20px;
margin:20px 0;
}

.word-main{
font-size:4rem;
color:var(--primary);
font-weight:bold;
}

.word-sub{
font-size:1.4rem;
color:var(--secondary);
}

.btn{
border:none;
padding:12px 20px;
border-radius:10px;
cursor:pointer;
font-size:1rem;
margin:5px;
font-weight:bold;
}

.btn-listen{background:#3498db;color:white;}
.btn-slow{background:#9b59b6;color:white;display:none;}
.btn-speak{background:#c0392b;color:white;}

.status-box{
margin-top:15px;
padding:15px;
border-radius:10px;
display:none;
font-weight:bold;
}

.vowel-grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:10px;
margin-top:10px;
}

.v-btn{
border:2px solid var(--primary);
padding:10px;
border-radius:8px;
font-weight:bold;
cursor:pointer;
color:var(--primary);
}

.v-btn:hover{
background:var(--primary);
color:white;
}

.whatsapp-link{
background:#25D366;
color:white;
text-decoration:none;
display:block;
padding:15px;
border-radius:10px;
margin-top:20px;
font-size:1.2rem;
}
</style>
</head>

<body>

<div class="container">

<h2 style="color:#1a5f7a">Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ©</h2>
<p>Ø¥Ø¯Ø§Ø±Ø©: Ù…Ø­Ù…Ø¯ Ø·Ù‡ Ø¹Ø·Ø§ Ø§Ù„Ù…Ù†Ø§Ù†</p>

<div id="progress">Ø§Ù„ÙƒÙ„Ù…Ø© 1 Ù…Ù† 10</div>

<div class="word-card">

<div id="target-word" class="word-main">Cat</div>
<div id="target-trans" class="word-sub">(Ù‚Ø·Ø©)</div>

<button class="btn btn-listen" onclick="playSound(1)">ğŸ”Š Ø³Ø±ÙŠØ¹</button>
<button id="slowBtn" class="btn btn-slow" onclick="playSound(0.5)">ğŸ¢ Ø¨Ø·ÙŠØ¡</button>

</div>

<button id="micBtn" class="btn btn-speak" onclick="startListen()">ğŸ¤ Ø§Ù†Ø·Ù‚</button>

<div id="status" class="status-box"></div>

<div id="vowelBox" style="display:none">

<p>Ø§Ø®ØªØ± Ø§Ù„Ø±Ù…Ø² Ø§Ù„ØµÙˆØªÙŠ:</p>

<div class="vowel-grid">

<button class="v-btn" onclick="checkVowel('/Ã¦/')">/Ã¦/</button>
<button class="v-btn" onclick="checkVowel('/É›/')">/É›/</button>
<button class="v-btn" onclick="checkVowel('/Éª/')">/Éª/</button>
<button class="v-btn" onclick="checkVowel('/É’/')">/É’/</button>
<button class="v-btn" onclick="checkVowel('/ÊŒ/')">/ÊŒ/</button>

</div>
</div>

<button id="nextBtn" class="btn" style="background:#1a5f7a;color:white;display:none" onclick="next()">Ø§Ù„ØªØ§Ù„ÙŠ</button>

<div id="result" style="display:none">

<h2 style="color:#27ae60">ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ âœ…</h2>
<p id="scoreText"></p>

<a id="wa" class="whatsapp-link" target="_blank">Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø£Ø³ØªØ§Ø°</a>

</div>

</div>

<script>

const data=[
{w:"Cat",t:"Ù‚Ø·Ø©",v:"/Ã¦/"},
{w:"Bed",t:"Ø³Ø±ÙŠØ±",v:"/É›/"},
{w:"Sit",t:"ÙŠØ¬Ù„Ø³",v:"/Éª/"},
{w:"Hot",t:"Ø³Ø§Ø®Ù†",v:"/É’/"},
{w:"Cup",t:"ÙƒÙˆØ¨",v:"/ÊŒ/"},
{w:"Map",t:"Ø®Ø±ÙŠØ·Ø©",v:"/Ã¦/"},
{w:"Pen",t:"Ù‚Ù„Ù…",v:"/É›/"},
{w:"Pig",t:"Ø®Ù†Ø²ÙŠØ±",v:"/Éª/"},
{w:"Dog",t:"ÙƒÙ„Ø¨",v:"/É’/"},
{w:"Sun",t:"Ø´Ù…Ø³",v:"/ÊŒ/"}
];

let i=0;
let score=0;

const synth=window.speechSynthesis;

const Rec=window.SpeechRecognition||window.webkitSpeechRecognition;
const rec=new Rec();

rec.lang="en-US";

function playSound(rate){

synth.cancel();

let u=new SpeechSynthesisUtterance(data[i].w);
u.rate=rate;
u.lang="en-US";

synth.speak(u);

}

function startListen(){

status.style.display="block";
status.innerText="Ø§Ø³ØªÙ…Ø¹...";

rec.start();

}

rec.onresult=e=>{

let heard=e.results[0][0].transcript.toLowerCase();
let target=data[i].w.toLowerCase();

if(heard===target){

status.style.background="#d4edda";
status.style.color="#155724";
status.innerHTML="Ù…Ù…ØªØ§Ø² âœ…";

vowelBox.style.display="block";
micBtn.style.display="none";

}else{

status.style.background="#f8d7da";
status.style.color="#721c24";
status.innerHTML="Ø®Ø·Ø£ âŒ Ù‚Ù„Øª: "+heard;

slowBtn.style.display="inline-block";

}

};

function checkVowel(v){

if(v===data[i].v){

score++;

vowelBox.style.display="none";
nextBtn.style.display="inline-block";

}else{
alert("Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
}

}

function next(){

i++;

if(i<data.length){

target-word.innerText=data[i].w;

}else{

showResult();

}

}

function showResult(){

document.querySelector(".container").innerHTML="";

document.querySelector(".container").innerHTML=`

<h2>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>

<p>${score} / 10</p>

<a class="whatsapp-link" target="_blank"
href="https://wa.me/249901946410?text=Ø§Ù„Ù†ØªÙŠØ¬Ø©:${score}/10">

Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø£Ø³ØªØ§Ø°</a>

`;

}

</script>

</body>
</html>
