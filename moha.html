<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ© - Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø·Ù‚ Ø§Ù„Ù…ØªØ±Ø¬Ù…</title>
    <style>
        :root {
            --primary-color: #1a5f7a;
            --accent-color: #25D366;
            --bg-color: #f8f9fa;
            --text-dark: #2c3e50;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg-color); display: flex; justify-content: center; padding: 20px; color: var(--text-dark); }
        .container { background: white; padding: 30px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); max-width: 600px; width: 100%; text-align: center; border-top: 8px solid var(--primary-color); }
        .platform-title { font-size: 1.8rem; color: var(--primary-color); margin: 0; font-weight: 800; }
        .manager-name { font-size: 1.1rem; color: #7f8c8d; margin-bottom: 20px; }
        .word-display { font-size: 3.5rem; color: var(--primary-color); margin: 10px 0; font-weight: bold; }
        .translation-display { font-size: 1.4rem; color: #e67e22; margin-bottom: 20px; font-weight: bold; }
        .btn { border: none; padding: 12px 25px; border-radius: 12px; cursor: pointer; font-size: 1rem; margin: 5px; transition: 0.3s; font-weight: 600; }
        .btn-listen { background: #3498db; color: white; }
        .btn-speak { background: #e74c3c; color: white; }
        .btn-next { background: var(--primary-color); color: white; display: none; }
        .btn-skip { background: #95a5a6; color: white; display: none; }
        .status { margin-top: 15px; font-weight: bold; padding: 10px; border-radius: 8px; min-height: 40px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .vowel-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 20px; }
        .vowel-btn { background: #fff; border: 2px solid var(--primary-color); color: var(--primary-color); padding: 10px; border-radius: 8px; cursor: pointer; font-size: 0.9rem; }
        .vowel-btn:hover { background: var(--primary-color); color: white; }
        .whatsapp-btn { background: var(--accent-color); color: white; text-decoration: none; display: block; padding: 18px; border-radius: 12px; margin-top: 25px; font-size: 1.2rem; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <div class="header-section">
        <h1 class="platform-title">Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ©</h1>
        <div class="manager-name">Ø¥Ø¯Ø§Ø±Ø©: Ù…Ø­Ù…Ø¯ Ø·Ù‡ Ø¹Ø·Ø§ Ø§Ù„Ù…Ù†Ø§Ù†</div>
    </div>

    <div id="quiz-area">
        <div id="progress" style="color: #666; margin-bottom: 10px;">Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø·Ù‚ (1 Ù…Ù† 10)</div>
        <div id="target-word" class="word-display">Cat</div>
        <div id="target-translation" class="translation-display">(Ù‚Ø·Ø©)</div>
        
        <div id="pronunciation-controls">
            <button class="btn btn-listen" onclick="speakWord()">ğŸ”Š Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ø·Ù‚</button>
            <button class="btn btn-speak" onclick="startRecognition()">ğŸ¤ Ø³Ø¬Ù„ Ù†Ø·Ù‚Ùƒ</button>
        </div>

        <div id="vowel-selection" style="display:none;">
            <p>Ø§Ø®ØªØ± Ø±Ù…Ø² Ø§Ù„ØµÙˆØª Ø§Ù„Ù‚ØµÙŠØ± (Short Vowel) Ø§Ù„ØµØ­ÙŠØ­:</p>
            <div class="vowel-options">
                <button class="vowel-btn" onclick="checkVowel('/Ã¦/')">/Ã¦/ (Ù…Ø«Ù„ Cat)</button>
                <button class="vowel-btn" onclick="checkVowel('/Éª/')">/Éª/ (Ù…Ø«Ù„ Sit)</button>
                <button class="vowel-btn" onclick="checkVowel('/É›/')">/É›/ (Ù…Ø«Ù„ Bed)</button>
                <button class="vowel-btn" onclick="checkVowel('/É’/')">/É’/ (Ù…Ø«Ù„ Hot)</button>
                <button class="vowel-btn" onclick="checkVowel('/ÊŒ/')">/ÊŒ/ (Ù…Ø«Ù„ Cup)</button>
            </div>
        </div>

        <div id="status-msg" class="status" style="visibility: hidden;"></div>
        
        <div style="display: flex; justify-content: center; gap: 10px;">
            <button id="skip-btn" class="btn btn-skip" onclick="nextQuestion(false)">ØªØ®Ø·ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„ â†·</button>
            <button id="next-btn" class="btn btn-next" onclick="nextQuestion(true)">Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© â®•</button>
        </div>
    </div>

    <div id="result-area" style="display:none;">
        <h2 style="color: var(--primary-color);">ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨!</h2>
        <p id="final-score" style="font-size: 1.4rem; font-weight: bold;"></p>
        <a id="whatsapp-link" class="whatsapp-btn" target="_blank">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„Ø£Ø³ØªØ§Ø° Ù…Ø­Ù…Ø¯ âœ…</a>
    </div>
</div>

<script>
    const quizData = [
        { word: "Cat", translation: "Ù‚Ø·Ø©", vowel: "/Ã¦/" },
        { word: "Bed", translation: "Ø³Ø±ÙŠØ±", vowel: "/É›/" },
        { word: "Sit", translation: "ÙŠØ¬Ù„Ø³", vowel: "/Éª/" },
        { word: "Hot", translation: "Ø³Ø§Ø®Ù†", vowel: "/É’/" },
        { word: "Cup", translation: "ÙƒÙˆØ¨", vowel: "/ÊŒ/" },
        { word: "Map", translation: "Ø®Ø±ÙŠØ·Ø©", vowel: "/Ã¦/" },
        { word: "Pen", translation: "Ù‚Ù„Ù… Ø¬Ø§Ù", vowel: "/É›/" },
        { word: "Pig", translation: "Ø®Ù†Ø²ÙŠØ±", vowel: "/Éª/" },
        { word: "Dog", translation: "ÙƒÙ„Ø¨", vowel: "/É’/" },
        { word: "Sun", translation: "Ø´Ù…Ø³", vowel: "/ÊŒ/" }
    ];

    let currentIndex = 0;
    let score = 0;

    function speakWord() {
        const msg = new SpeechSynthesisUtterance(quizData[currentIndex].word);
        msg.lang = 'en-US';
        window.speechSynthesis.speak(msg);
    }

    const Recognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognizer = new Recognition();
    recognizer.lang = 'en-US';

    function startRecognition() {
        const status = document.getElementById('status-msg');
        status.style.visibility = "visible";
        status.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„ØªÙ‚ÙŠÙŠÙ… Ù†Ø·Ù‚Ùƒ...";
        status.className = "status";
        recognizer.start();
    }

    recognizer.onresult = (event) => {
        const transcript = event.results[0][0].transcript.toLowerCase();
        const target = quizData[currentIndex].word.toLowerCase();
        const status = document.getElementById('status-msg');
        
        if (transcript.includes(target)) {
            status.innerText = "Ù†Ø·Ù‚ Ø±Ø§Ø¦Ø¹ ÙˆÙ…ÙÙ‡ÙˆÙ…! Ø§Ù„Ø¢Ù† Ø­Ø¯Ø¯ Ø±Ù…Ø² Ø§Ù„ØµÙˆØª.";
            status.className = "status success";
            document.getElementById('pronunciation-controls').style.display = "none";
            document.getElementById('vowel-selection').style.display = "block";
            document.getElementById('skip-btn').style.display = "none";
        } else {
            status.innerText = `Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø© (Ø³Ù…Ø¹Øª: ${transcript}). Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø£Ùˆ ØªØ®Ø·Ù‘Ù.`;
            status.className = "status error";
            document.getElementById('skip-btn').style.display = "inline-block";
        }
    };

    function checkVowel(selectedVowel) {
        const status = document.getElementById('status-msg');
        if (selectedVowel === quizData[currentIndex].vowel) {
            status.innerText = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù†Ù‚Ø·Ø©.";
            status.className = "status success";
            score++;
            document.getElementById('next-btn').style.display = "inline-block";
            document.getElementById('vowel-selection').style.display = "none";
        } else {
            status.innerText = "Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ø§Ù„ØµÙˆØªÙŠ ØºÙŠØ± ØµØ­ÙŠØ­ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
            status.className = "status error";
        }
    }

    function nextQuestion(isCorrect) {
        currentIndex++;
        if (currentIndex < quizData.length) {
            document.getElementById('target-word').innerText = quizData[currentIndex].word;
            document.getElementById('target-translation').innerText = `(${quizData[currentIndex].translation})`;
            document.getElementById('progress').innerText = `Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø·Ù‚ ÙˆØ§Ù„ØªÙ…ÙŠÙŠØ² (${currentIndex + 1} Ù…Ù† 10)`;
            document.getElementById('status-msg').style.visibility = "hidden";
            document.getElementById('next-btn').style.display = "none";
            document.getElementById('skip-btn').style.display = "none";
            document.getElementById('pronunciation-controls').style.display = "block";
            document.getElementById('vowel-selection').style.display = "none";
        } else {
            showFinalResult();
        }
    }

    function showFinalResult() {
        document.getElementById('quiz-area').style.display = "none";
        document.getElementById('result-area').style.display = "block";
        document.getElementById('final-score').innerText = `Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù„Ù„Ù…ØªØ¯Ø±Ø¨: ${score} Ù…Ù† 10`;
        
        const phone = "249901946410";
        const message = `*Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ©*%0A*ØªÙ‚Ø±ÙŠØ± Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø·Ø§Ù„Ø¨*%0A--------------------------%0A*Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:* Ù…Ø­Ù…Ø¯ Ø·Ù‡ Ø¹Ø·Ø§ Ø§Ù„Ù…Ù†Ø§Ù†%0A*Ø§Ù„Ù†Ø´Ø§Ø·:* Ù†Ø·Ù‚ ÙˆØªÙ…ÙŠÙŠØ² Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªØ±Ø¬Ù…Ø©%0A*Ø§Ù„Ù†ØªÙŠØ¬Ø©:* ${score} Ù…Ù† 10%0A--------------------------`;
        document.getElementById('whatsapp-link').href = `https://wa.me/${phone}?text=${message}`;
    }
</script>
</body>
</html>
